params {

    // Raw data directory
    dataDir         = "/media/seqadmin/datos/MN-COVID-SEQ/covid"
    scriptDir       = "${projectDir}/bin/"
    schemeDir       = "${projectDir}/schemes/"
    condaDir        = "${projectDir}/envs/conda/"
        env_general = "${condaDir}/general.yml"

    // Output directory
    analysisDir             = null

    // Analysis specific parameters
    samplesheet     = null
    runID           = null
    minionID        = null

    // MinION specific parameters
    minion_password       = "minit"

    // Artic parameters
    min_len             = 800 // need to check requirements
    max_len             = 1600 // check requirements of artic
    normalise           = 200
    min_depth           = 20
    min_mapq            = 20
    scheme_name         = "Midnight-ONT"
    scheme_ver          = "V3"

}

profiles {

    conda_on {
        conda.enabled = true
        conda.useMamba = true
    }

    docker_on {
        docker.enabled = true
        // this ensures container is run as host user and group, but
        //    also adds host user to the within-container group
        docker.runOptions = "--user \$(id -u):\$(id -g) --group-add 100"
    }

    singularity_on {
        singularity.enabled = true
        singularity.autoMounts = true
    }
}

process { 
    shell = ['/bin/bash', '-euo', 'pipefail']
}

manifest {
    mainScript = 'main.nf'
    nextflowVersion = '>=20.04.0'
}